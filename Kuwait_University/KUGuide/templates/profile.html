{% extends "base.html" %}
{% block title %}Profile{% endblock %}

{% block content %}
<main id="main-content" tabindex="-1">
  <div class="layout-container profile-page">

    <!-- Profile summary -->
    <section class="profile-frame">
      <div class="profile-card">
        <div class="profile-photo">
          {% if profile and profile.picture %}
          <img src="{{ profile.picture.url }}" alt="{{ profile.full_name|default:'Profile picture' }}">
          {% else %}
          <span class="avatar-fallback">Picture</span>
          {% endif %}
        </div>

        <div class="profile-details">
          <p class="label">Student Full Name</p>
          <h2>{{ profile.full_name|default:"Student Full Name" }}</h2>

          <p class="label">Major</p>
          <h3>{{ profile.major|default:"Major" }}</h3>

          <p class="label">Student ID</p>
          <h3>{{ profile.student_id|default:"Student ID" }}</h3>
        </div>

        <div class="profile-actions-single">
          {% if profile %}
          <a class="btn btn-primary" href="{% url 'profile_edit' %}">Edit Profile</a>
          {% else %}
          <a class="btn btn-primary" href="{% url 'signin' %}">Sign in to Edit</a>
          {% endif %}
        </div>
      </div>
    </section>

    <!-- Navigation pills -->
    <section class="profile-links">
      <a class="pill-link" href="{% url 'my_groups' %}">My Groups</a>
      <a class="pill-link" href="{% url 'my_courses' %}">My Courses</a>
      <a class="pill-link" href="{% url 'activity' %}">Activity</a>
      <a class="pill-link" href="{% url 'profile_settings' %}">Settings</a>
    </section>

    <!-- Stats -->
    <section class="profile-stats-frame">
      <div class="profile-stats-grid">
        <div class="stat-tile">
          <p>Number of Questions Asked</p>
          <h3>{{ stats.questions|default:"0" }}</h3>
        </div>
        <div class="stat-tile">
          <p>Number of Study Groups</p>
          <h3>{{ stats.groups|default:"0" }}</h3>
        </div>
        <div class="stat-tile">
          <p>Number of Courses Enrolled</p>
          <h3>{{ stats.courses|default:"0" }}</h3>
        </div>
        <div class="stat-tile">
          <p>Number of Materials Shared</p>
          <h3>{{ stats.materials|default:"0" }}</h3>
        </div>
      </div>
    </section>

    <p class="profile-footer-note">Kuwait University Guide @2025 Kuwait University. All Rights Reserved.</p>
  </div>
</main>
{% endblock %}