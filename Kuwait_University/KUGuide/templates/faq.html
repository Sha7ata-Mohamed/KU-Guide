{% extends 'base.html' %}
{% load static %}
{% block title %}Frequently Asked Questions{% endblock %}

{# Inject page CSS (only this page) #}
{% block body_class %}page-faq{% endblock %}
{% block content %}

<section class="faq-section">
    <header class="section-title">
        <h1>Frequently Asked Questions (FAQ)</h1>
        <p class="faq-intro">Here you can find answers to common questions about the website and KU</p>
    </header>

    <div class="faq-frame">
        <div class="faq-accordion">
            <details>
                <summary><strong>General Questions (Click to reveal)</strong></summary>
                <h5>1. What is this website for?</h5>
                <ul>
                    <li>
                        It’s a platform for
                        <a href="https://portal.ku.edu.kw" target="_blank" rel="noopener">Kuwait University</a>
                        students and graduates to share study materials, join discussions, and explore Career
                        Guidance.
                    </li>
                </ul>
                <h5>2. Do I need an account to use this website?</h5>
                <ul>
                    <li>Yes, you must use your University ID and password to log in.</li>
                </ul>
            </details>

            <hr>

            <details>
                <summary><strong> Portal Questions (Click to reveal)</strong></summary>
                <h5>1. When does the Portal system open after the deadline sent by the university via text
                    message or the Sahal program?</h5>
                <ul>
                    <li>
                        It opens from 9:30 PM to 11:59 PM after the deadline.
                    </li>
                </ul>
                <h5>2. Where can I find Timeline for registration, withdrawal, and add/drop processes for the
                    first semester of the academic year 2025/2026</h5>
                <ul>
                    <li> You can find it on the
                        <a href="https://portal.ku.edu.kw/sisapp/faces/index.jspx?_adf.ctrl-state=14mr5qvoff_4&_afrLoop=4415188006164257"
                            target="_blank" rel="noopener">KU portal</a>
                        on the home page after logging in.
                    </li>
                </ul>
            </details>

            <hr>

            <details>
                <summary><strong>Career Guidance Questions (Click to reveal)</strong></summary>
                <h5>3. Where can I find job opportunities?</h5>
                <ul>
                    <li>
                        After logging in, please head to the
                        <a href="{% url 'career' %}" target="_blank" rel="noopener">Career Guidance</a>
                        page.
                    </li>
                </ul>
            </details>

            <hr>

            <details>
                <summary><strong>Account help (Click to reveal)</strong></summary>
                <h5>4. How do I reset my password?</h5>
                <ul>
                    <li>
                        Click “Forgot password” or go to the
                        <a href="https://portal.ku.edu.kw" target="_blank" rel="noopener">KU portal</a>
                        to reset your password.
                    </li>
                </ul>
            </details>

            <hr>

            <details>
                <summary><strong>Technical help</strong></summary>
                <h5>5. How do I contact support?</h5>
                <ul>
                    <li>Please visit the <a href="{% url 'contact'%}" target="_blank" rel="noopener">Contact</a>
                        page.</li>
                </ul>
            </details>
        </div>
    </div>
</section>

<!-- Chat mockup under FAQ -->
<section class="faq-chat" aria-label="FAQ chat mockup">
    <div class="chat-card">
        <header class="chat-header">
            <div class="chat-avatar">Profile<br>Picture</div>
            <div class="chat-name">*Name*</div>
            <div class="chat-actions">
                <span class="chat-icon" aria-hidden="true"></span>
                <span class="chat-menu" aria-hidden="true"></span>
            </div>
        </header>

        <div class="chat-body" aria-label="Chat messages area"></div>

        <footer class="chat-input-row">
            <input type="file" id="chat-file" class="chat-file-input" aria-label="Add attachment">
            <button class="chat-add" type="button" aria-label="Add picture" id="chat-add-btn">+</button>
            <label class="chat-dropzone" for="chat-file">
                <span class="sr-only">Message</span>
                <textarea id="chat-message" placeholder="Message" aria-label="Message" data-dropzone="true"></textarea>
            </label>
            <button class="chat-send" type="button" aria-label="Send message">Send</button>
        </footer>
    </div>
</section>
{% endblock %}

{% block extra_js %}
<script>
    (function () {
        const fileInput = document.getElementById('chat-file');
        const addBtn = document.getElementById('chat-add-btn');
        const messageBox = document.getElementById('chat-message');

        if (addBtn && fileInput) {
            addBtn.addEventListener('click', () => fileInput.click());
        }

        const dropTargets = [messageBox];

        dropTargets.forEach((target) => {
            if (!target) return;

            const prevent = (e) => {
                e.preventDefault();
                e.stopPropagation();
            };

            target.addEventListener('dragenter', (e) => {
                prevent(e);
                target.classList.add('is-dragover');
            });
            target.addEventListener('dragover', prevent);
            target.addEventListener('dragleave', () => target.classList.remove('is-dragover'));
            target.addEventListener('drop', (e) => {
                prevent(e);
                target.classList.remove('is-dragover');
                if (e.dataTransfer && e.dataTransfer.files && e.dataTransfer.files.length) {
                    fileInput.files = e.dataTransfer.files;
                }
                if (e.dataTransfer && e.dataTransfer.getData('text')) {
                    target.value += (target.value ? '\n' : '') + e.dataTransfer.getData('text');
                }
            });
        });
    })();
</script>
{% endblock %}